\ProvidesPackage{jonprl-doc}

\RequirePackage{graphicx}
\RequirePackage{mathtools}
\RequirePackage{notation/modes}

\RequirePackage[h]{esvect}

\ExecuteOptions{}
\ProcessOptions\relax

\renewcommand\vec[1]{\protect\vv{#1}}
\renewcommand\bar[1]{\protect\overline{#1}}
\newcommand\LT[2]{\IMode{#1} < \IMode{#2}}

\newcommand\BackDefine[2]{%
  \OMode{#1}\triangleq\IMode{#2}%
}

\definecolor{Revolutionary}{HTML}{D65851}

\newcommand\RedPRL{\textcolor{Revolutionary}{\textbf{Red}}PRL}

\newcommand\RedEpigram[2]{%
  \epigraph{\OMode{\emph{\textit{#1}}}}{\textbf{#2}}
}

\newcommand\GrayColor[1]{{\color{Gray} #1}}
\newcommand\Optional[1]{%
  {\color{Gray}\langle}%
  #1%
  {\color{Gray}\rangle}%
}


%% Sorts

\newcommand\SortSigExpr{\mathit{sigexp}}
\newcommand\SortSigDecl{\mathit{sigdec}}
\newcommand\SortSymDecl{\mathit{symdec}}
\newcommand\SortRcdDecl{\mathit{rcddec}}
\newcommand\SortParams{\mathit{params}}
\newcommand\SortArgs{\mathit{args}}
\newcommand\SortTerm{\mathit{term}}
\newcommand\SortSymBind{\mathit{symbind}}
\newcommand\SortMetaBind{\mathit{metabind}}
\newcommand\SortRcdRows{\mathit{rows}}
\newcommand\SortRowDecl{\mathit{row}}

\newcommand\SortValence{\mathit{valence}}
\newcommand\SortSortList{\mathit{sortlist}}

\newcommand\SortOpId{\mathit{opid}}
\newcommand\SortSortId{\mathit{sortid}}
\newcommand\SortSymId{\mathit{symid}}
\newcommand\SortMetaId{\mathit{metaid}}

%% Grammar Productions

\newcommand\ProdEmptySig{\Optional{\cdot}}
\newcommand\ProdExtendSig[2]{#1\ #2.}

\newcommand\ProdEmptyCtx{\Optional{\cdot}}
\newcommand\ProdExtendCtx[2]{#1, #2}

\newcommand\ProdBind[2]{#1 : #2}

\newcommand\ProdValence[3]{%
  \Optional{%
    \Optional{\{#1\}}%
    \Optional{[#2]}%
    .%
  }#3%
}

\newcommand\ProdDefDecl[5]{%
  \mathtt{Def}\ #1%
  \Optional{[#2]}%
  \Optional{(#3)} %
  : #4 = [#5]
}

\newcommand\ProdTacDecl[4]{%
  \mathtt{Tac}\ #1%
  \Optional{[#2]}%
  \Optional{(#3)} %
  = [#4]
}

\newcommand\ProdThmDecl[5]{%
  \mathtt{Thm}\ #1%
  \Optional{[#2]}%
  \Optional{(#3)}%
  : [#4] ~\mathtt{by}~ [#5]
}

\newcommand\ProdRcdDecl[4]{%
  \mathtt{Rcd}\ #1%
  \Optional{[#2]}%
  \Optional{(#3)}%
  = \{#4\}
}

\newcommand\ProdSymDecl[1]{%
  \mathtt{Sym}\ #1%
}

\renewcommand\MkAbs[3]{%
  \ifthenelse{\equal{#1}{}}{}{%
    \{#1\}%
  }%
  \ifthenelse{\equal{#2}{}}{}{%
    [#2]%
  }.\, #3%
}

\endinput
